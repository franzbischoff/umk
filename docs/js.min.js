function selectionChanged(){for(var e=document.getElementsByClassName("editorDivs"),t=0;t<e.length;e++)e[t].style.display="none";0===mainSystem.graph.getSelectionCells().length&&(document.getElementById("editorForGraph").style.display="block")}function setCaption(e,t){for(var n=e.children,o=0;o<n.length;o++)n[o].style.search("umk_caption")>=0&&(n[o].setValue(t),graph.refresh(n[o]))}function mxVertexToolHandler(e){mxVertexHandler.apply(this,arguments)}function blockOnDOM(img){var model=img.getAttribute("umk_model"),width=umkBlockSummary[model].width,height=umkBlockSummary[model].height,fg=umkBlockSummary[model].fg,bg=umkBlockSummary[model].bg,Name=umkBlockSummary[model].name,dragElt=document.createElement("div");dragElt.style.border="dashed "+img.getAttribute("umk_color")+" 1px",dragElt.style.width=width+"px",dragElt.style.height=height+"px";var addANewBlock=function(graph,evt,cell,x,y){graph.getModel().beginUpdate();try{eval("var modelForVertex = new "+model+"({'Name': '"+Name+"'})");var IconDetails=modelForVertex.Icon(),inLabels=IconDetails.inLabels||[],outLabels=IconDetails.outLabels||[],splStyle="";IconDetails.splStyle&&(splStyle=IconDetails.splStyle),console.log(modelForVertex),v=graph.insertVertex(graph.getDefaultParent(),null,modelForVertex,x,y,width,height,"umk_model;fillColor="+bg+";strokeColor="+bg+";"+splStyle),v.setConnectable(!1),setTermianls(graph,v,"umk_input"),setTermianls(graph,v,"umk_output");var EO=graph.insertVertex(v,null,"",.5,0,0,0,"umk_EO",!0);EO.setConnectable(!1);var Details=graph.insertVertex(v,null,modelForVertex.Name,.5,1,0,0,"umk_caption",!0);Details.geometry.offset=new mxPoint(0,0),Details.setConnectable(!1),graph.setSelectionCell(v)}catch(e){notyf.error("Block error: Unable to place this block. Contact the support."),console.log(e)}graph.getModel().endUpdate()};this.ds=mxUtils.makeDraggable(img,mainSystem.graph,addANewBlock,dragElt,0,0,!0,!0),this.ds.setGuidesEnabled(mainSystem.graph.graphHandler.guidesEnabled)}function setTermianls(e,t,n="umk_input"){if(t&&"object"==typeof t){var o,i,a,l=t.value.Icon();"umk_input"===n?(o=l.inLabels||[],i=t.value.TerminalsIn.value,console.log(i),a={x:0,size:{width:4,height:8},offset:{x:-4,y:-4}}):(o=l.outLabels||[],i=t.value.TerminalsOut.value,a={x:1,size:{width:4,height:8},offset:{x:-4,y:-4}});for(var s=0,r=[],h=0;h<(t.children?t.children.length:0);h++)t.children[h].style.search(n)>=0&&(s<i?(t.children[h].geometry.y=(s+1)/(i+1),t.children[h].setValue(o[s]||"")):r.push(t.children[h]),s++);e.removeCells(r);for(h=0;h<i-s;h++){var u=e.insertVertex(t,null,o[h+s]||"",a.x,(s+h+1)/(i+1),a.size.width,a.size.height,n+";fillColor="+("umk_input"===n?umkBlockSummary[t.value.id].bg:"none")+";strokeColor="+("umk_input"===n?umkBlockSummary[t.value.id].bg:"none")+";",!0);u.geometry.offset=new mxPoint(a.offset.x,a.offset.y)}}}function updateMathJax(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}function holdToFinishAProcess(e=null,t=null){document.getElementById("waitForProcessToFinish").style.display=e?"block":"none",e&&(document.getElementById("DOMWaitingHead").innerText=e),t&&(document.getElementById("DOMWaitingDesc").innerText=t)}var iconText={icon1:"<svg viewBox='-3 -3 106 106' xmlns='http://www.w3.org/2000/svg'><defs><filter id='f0' x='-50%' y='-50%' width='200%' height='200%'><feGaussianBlur in='SourceAlpha' stdDeviation='1'/><feOffset dx='0' dy='0' result='offsetblur'/><feMerge><feMergeNode/><feMergeNode in='SourceGraphic'/></feMerge></filter><filter id='f1' x='-50%' y='-50%' width='200%' height='200%'><feOffset result='offOut' in='SourceAlpha' dx='3' dy='3' /><feGaussianBlur result='blurOut' in='offOut' stdDeviation='1' /><feBlend in='SourceGraphic' in2='blurOut' mode='normal' /></filter></defs><g><rect rx='0' height='100' width='100' y='0' x='0' stroke-width='0' fill='",icon2:"' filter='url(#f0)'/></g><g stroke-linecap='round' filter='url(#f1)' width='100' height='100' stroke='",icon3:"' stroke-width='10' fill='none'>",icon4:"</g></svg>"},notyf=new Notyf({duration:1e4});const windResizeCallbacks=[],toolBar=[{value:"File",icon:"fas fa-file-alt",width:"335",text:"Menu gives options to manage your files",shortcut:[],items:[{value:"Cloud organizer",icon:"far fa-folder",function:"alert()",text:"Organize your Uyamak systems on your cloud storage",shortcut:["Ctrl","O"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Save to local machine",icon:"fas fa-download",function:"alert()",text:"Download the Uyamak system to your local device as a file",shortcut:["Ctrl","S"]},{value:"Load from local machine",icon:"fas fa-upload",function:"alert()",text:"Load a Uyamak system from your local device",shortcut:["Ctrl","L"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Share privately",icon:"fas fa-share-alt-square",function:"alert()",text:"Share Uyamak system with your friends and teachers",shortcut:["Ctrl","J"]},{value:"Make public",icon:"fas fa-share-alt",function:"alert()",text:"Publish your Uyamak system to the public",shortcut:["Ctrl","Shift","J"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Print",icon:"fas fa-print",function:"alert()",text:"Print the Uyamak system",shortcut:["Ctrl","P"]}]},{value:"System",icon:"fas fa-project-diagram",width:"400",text:"Menu gives options to manage your Uyamak system",shortcut:[],items:[{value:"Show Uyamak library",icon:"fas fa-puzzle-piece",function:"alert()",text:"Displays the Uyamak library drawer where you can find all the Uyamak models",shortcut:["Ctrl","U"]},{value:"Show Model Editor",icon:"fas fa-edit",function:"alert()",text:"Displays the Uyamak model editor where you can tweak the model settings",shortcut:["Ctrl","E"]},{value:"Show Simulation drawer",icon:"fas fa-play",function:"alert()",text:"Displays the simulation drawer where you can execute the Uyamak system",shortcut:["Ctrl","Shift","S"]},{value:"Show Variable manager",icon:"fas fa-equals",function:"ShowModelItem('variablesManager')",text:"Displays the Variable manager where you can add, edit or delete the Uyamak variables.",shortcut:["Ctrl","Shift","V"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Create sub-system",icon:"far fa-object-group",function:"if (mainSystem.graph.isEnabled()) createSubModel();",text:"Creates Uyamak sub-system out of the selected Uyamak models",shortcut:["Ctrl","K"]},{value:"Dismantle sub-system",icon:"far fa-object-ungroup",function:"if (mainSystem.graph.isEnabled()) ungroupSubModel();",text:"Dismantles all the selected Uyamak sub-systems.",shortcut:["Ctrl","Shift","K"]}]},{value:"Edit",icon:"fas fa-pen",width:"300",text:"Menu gives options to manipulate the Uyamak system",shortcut:[],items:[{value:"Select all",icon:"far fa-check-square",function:"alert()",text:"",shortcut:["Ctrl","A"]},{value:"Select none",icon:"far fa-square",function:"alert()",text:"",shortcut:["Ctrl","Shift","A"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"",shortcut:[]},{value:"Cut",icon:"fas fa-cut",function:"alert()",text:"Copies the selected Uyamak models into the clipboard and deletes the original ones",shortcut:["Ctrl","X"]},{value:"Copy",icon:"fas fa-copy",function:"alert()",text:"Copies the selected Uyamak models into the clipboard",shortcut:["Ctrl","C"]},{value:"Paste",icon:"fas fa-paste",function:"alert()",text:"Pastes the clipboard Uyamak models to the present Uyamak system",shortcut:["Ctrl","V"]},{value:"Clone",icon:"fas fa-clone",function:"alert()",text:"Clones the selected Uyamak models",shortcut:["Ctrl","Shift","C"]},{value:"Delete",icon:"fas fa-trash-alt",function:"if (mainSystem.graph.isEnabled()) mainSystem.graph.removeCells();",text:"Delete the selected Uyamak models and Sub-systems",shortcut:["Delete"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Undo",icon:"fas fa-undo",function:"mainSystem.undoManager.undo();",text:"Undo the recent changes",shortcut:["Ctrl","Z"]},{value:"Redo",icon:"fas fa-redo",function:"mainSystem.undoManager.redo();",text:"Redo the recent changes",shortcut:["Ctrl","Shift","Z"]}]},{value:"View",icon:"fas fa-desktop",width:"390",text:"Menu gives different options to visualize the Uyamak system",shortcut:[],items:[{value:"Zoom in",icon:"fas fa-search-plus",function:"mainSystem.graph.zoomIn();",text:"Zooms in",shortcut:["Ctrl","+"]},{value:"Zoom out",icon:"fas fa-search-minus",function:"mainSystem.graph.zoomOut();",text:"Zooms out",shortcut:["Ctrl","-"]},{value:"Original size",icon:"fas fa-compress",function:"mainSystem.graph.zoomActual();",text:"Shows the original size. Some items may be out of view. You can see them by scrolling",shortcut:["Ctrl","0"]},{value:"Fit all",icon:"fas fa-expand",function:"mainSystem.graph.fit();",text:"Shows the complete Uyamak system",shortcut:["Ctrl","Shift","0"]},{value:"hl",icon:"fas fa-arrow-left",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Minimize  subsystem(s)",icon:"fas fa-window-minimize",function:"foldItems();",text:"Minimizes the selected subsystem. If nothing is selected, all the sub-systems will be minimized",shortcut:["Ctrl","M"]},{value:"Maximize  subsystem(s)",icon:"fas fa-window-maximize",function:"foldItems(false);",text:"Maximizes the selected subsystem. If nothing is selected, all the sub-systems will be maximized",shortcut:["Ctrl","Shift","M"]},{value:"hl",icon:"fas fa-window-maximize",function:"",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"Execution order",icon:"fas fa-sort-numeric-up-alt",function:"displayExecutionOrder()",text:"Shows simulation order and errors",shortcut:["Ctrl","R"]},{value:"hl",icon:"fas fa-window-maximize",function:"alert()",text:"Good to go when eveything is fine and also I want to say something more 1",shortcut:[]},{value:"System outline",icon:"fas fa-image",function:"alert()",text:"Shows outline of the Uyamak system in a small window on the top right corner",shortcut:["Ctrl","F"]},{value:"Show/Hide Grid lines",icon:"fas fa-border-all",function:"alert()",text:"Shows or hide the grid lines",shortcut:["Ctrl","G"]},{value:"Toggle snap to grid",icon:"fas fa-magnet",function:"alert()",text:"When snap to grid is activated, the blocks are moved at a steps instead of smoothly",shortcut:["Ctrl","T"]},{value:"Keyboard shortcuts",icon:"far fa-keyboard",function:"alert()",text:"Displays all the keyboard shortcuts",shortcut:["Ctrl","Y"]}]},{value:"Account",icon:"fas fa-user-alt",width:"315",text:"Menu gives options to manage the user account",shortcut:[],items:[{value:"Profile",icon:"fas fa-user-cog",function:"alert()",text:"Opens another page where you can manage your Uyamak profile",shortcut:[]},{value:"Extend licence period",icon:"fas fa-ticket-alt",function:"alert()",text:"Lets you extend the license period",shortcut:["Ctrl","B"]},{value:"Sign out",icon:"fas fa-door-open",function:"alert()",text:"Signing out",shortcut:["Ctrl","W"]}]},{value:"Help",icon:"far fa-life-ring",width:"275",text:"Menu gives access to documentation and help",shortcut:[],items:[{value:"Documentation",icon:"fas fa-book",function:"alert()",text:"Takes you to the documentation page",shortcut:["Ctrl","D"]},{value:"Context help",icon:"far fa-question-circle",function:"alert()",text:"Shows the documentation for the selected Uyamak model",shortcut:["Ctrl","H"]},{value:"hl",icon:"fas fa-window-maximize",function:"alert()",text:"Shows the documentation for the selected Uyamak model",shortcut:[]},{value:"About",icon:"fas fa-info",function:"alert()",text:"Shows the documentation for the selected Uyamak model",shortcut:[]}]}];window.addEventListener("resize",e=>{windResizeCallbacks.forEach(t=>{t(e)})}),mxBasePath="libs-others/mxgraph-4.0.4/javascript/src";var Graph=function(container){mxGraph.call(this,container);var GraphPointer=this;this.setAllowDanglingEdges(!1),this.constrainChildren=!1,this.setConnectable(!0),this.setPanning(!0),this.setTooltips(!0),this.htmlLabels=!0,this.rubberband=new mxRubberband(this),this.setConnectableEdges(!1),this.vStyle=this.getStylesheet().getDefaultVertexStyle(),this.eStyle=this.getStylesheet().getDefaultEdgeStyle(),this.vStyle.shadow=!1,this.vStyle.whiteSpace="wrap",this.vStyle.arcSize=0,this.vStyle.absoluteArcSize=1,this.vStyle.rounded=1,this.vStyle.strokeWidth=0,this.eStyle.edgeStyle="orthogonalEdgeStyle",this.eStyle.strokeWidth=1,this.eStyle.targetJettySize=25,this.eStyle.shadow=!1,this.eStyle.endArrow="none",this.eStyle.fontColor="#000",this.eStyle.verticalAlign="top",this.eStyle.overflow="width",this.eStyle.align="right";var style=new Object;style.foldable=0,style.overflow="hidden",style.verticalAlign="middle",style.fontColor="#fff",this.getStylesheet().putCellStyle("umk_model",style);var style=new Object;style[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_SWIMLANE,style.startSize=25,style.strokeWidth=2,style.arcSize=0,this.getStylesheet().putCellStyle("umk_group",style),style=new Object,style.constituent=1,style.verticalLabelPosition="bottom",style.verticalAlign="top",style.fontColor="#000",this.getStylesheet().putCellStyle("umk_caption",style),style=new Object,style.constituent=1,style.align="center",style.verticalAlign="bottom",style.fontColor="#000",this.getStylesheet().putCellStyle("umk_EO",style),style=new Object,style.constituent=1,style.verticalAlign="middle",style.fontColor="#fff",style.labelPosition="right",style.labelWidth=15,style.align="left",style.shape="triangle",style.portConstraint="west",style.overflow="fit",this.getStylesheet().putCellStyle("umk_input",style),style=new Object,style.constituent=1,style.verticalAlign="middle",style.fontColor="#fff",style.labelPosition="left",style.labelWidth=15,style.align="right",style.shape="triangle",style.portConstraint="east",style.overflow="fit",this.getStylesheet().putCellStyle("umk_output",style),this.backDiv=document.createElement("div"),this.backDiv.style.position="absolute",this.backDiv.style.top="0px",this.backDiv.style.left="0px",this.backDiv.style.width="100%",this.backDiv.style.height="100%",this.backDiv.style.zIndex=-2,container.appendChild(this.backDiv),this.backgroundColor="#f8f8f8",this.setBackgroundColor=function(e){e||(e=this.backgroundColor),this.backDiv.style.backgroundColor=e},this.navigate={sGraph:this,move:function(e="up",t=10){var n=this.sGraph,o=n.view.getTranslate();switch(e){case"up":o.y+=t;break;case"down":o.y-=t;break;case"left":o.x+=t;break;case"right":o.x-=t;break;case"0":o.x=0,o.y=0}n.view.setTranslate(o.x,o.y),n.view.refresh()}};var Canvas=document.createElement("canvas");Canvas.style.position="absolute",Canvas.style.top="0px",Canvas.style.left="0px",Canvas.style.pointerEvents="none",Canvas.style.zIndex=-1,container.appendChild(Canvas),this.grid={canvas:Canvas,sGraph:this,minorStroke:{color:"#808080",thickness:.1,pattern:"",show:!1},majorStroke:{color:"#808080",thickness:1,pattern:"2, 2",show:!0},megaStroke:{color:"#808080",thickness:2,pattern:"20, 5, 5, 5",show:!1},repaintGrid:function(){var e=this.sGraph,t=0,n=0,o=new mxPoint,i=0,a=0,l=this.canvas.getContext("2d");if(l.clearRect(0,0,this.canvas.width,this.canvas.height),l.fillStyle="#ff0000",l.fillRect(0,0,this.canvas.width,this.canvas.height),null!=l){var s=e.getGraphBounds(),r=Math.max(s.x+s.width,e.container.clientWidth),h=Math.max(s.y+s.height,e.container.clientHeight),u=r!=i||h!=a;if(e.view.scale!=t||e.view.translate.x!=o.x||e.view.translate.y!=o.y||n!=e.gridSize||u){o=e.view.translate.clone(),t=e.view.scale,n=e.gridSize,i=r,a=h,u?(this.canvas.setAttribute("width",i),this.canvas.setAttribute("height",a)):l.clearRect(0,0,i,a);var c=o.x*t,m=o.y*t,d=e.gridSize,y=d*t,f=Math.floor((0-c)/y)*y+c,g=Math.ceil(i/y)*y,p=Math.floor((0-m)/y)*y+m,v=Math.ceil(a/y)*y;g+=Math.ceil(y),v+=Math.ceil(y);var S=Math.round(f),x=Math.round(g),b=Math.round(p),k=Math.round(v);if(this.minorStroke.show){l.strokeStyle=this.minorStroke.color,l.beginPath(),l.lineCap="round";try{l.setLineDash(JSON.parse("["+this.minorStroke.pattern+"]"))}catch(e){}l.lineWidth=this.minorStroke.thickness;for(var C=f;C<=g;C+=y){C=Math.round((C-c)/y)*y+c;var w=Math.round(C);l.moveTo(w+.5,b+.5),l.lineTo(w+.5,k+.5)}for(var M=p;M<=v;M+=y){M=Math.round((M-m)/y)*y+m;var E=Math.round(M);l.moveTo(S+.5,E+.5),l.lineTo(x+.5,E+.5)}l.closePath(),l.stroke()}if(y*=5,this.majorStroke.show){l.strokeStyle=this.majorStroke.color,f=Math.floor((0-c)/y)*y+c,g=Math.ceil(i/y)*y,p=Math.floor((0-m)/y)*y+m,v=Math.ceil(a/y)*y,g+=Math.ceil(y),v+=Math.ceil(y),S=Math.round(f),x=Math.round(g),b=Math.round(p),k=Math.round(v),l.beginPath(),l.lineCap="round";try{l.setLineDash(JSON.parse("["+this.majorStroke.pattern+"]"))}catch(e){}l.lineWidth=this.majorStroke.thickness;for(C=f;C<=g;C+=y){C=Math.round((C-c)/y)*y+c;w=Math.round(C);l.moveTo(w+.5,b+.5),l.lineTo(w+.5,k+.5)}for(M=p;M<=v;M+=y){M=Math.round((M-m)/y)*y+m;E=Math.round(M);l.moveTo(S+.5,E+.5),l.lineTo(x+.5,E+.5)}l.closePath(),l.stroke()}if(y*=2,this.megaStroke.show){l.strokeStyle=this.megaStroke.color,f=Math.floor((0-c)/y)*y+c,g=Math.ceil(i/y)*y,p=Math.floor((0-m)/y)*y+m,v=Math.ceil(a/y)*y,g+=Math.ceil(y),v+=Math.ceil(y),S=Math.round(f),x=Math.round(g),b=Math.round(p),k=Math.round(v),l.beginPath(),l.lineCap="round";try{l.setLineDash(JSON.parse("["+this.megaStroke.pattern+"]"))}catch(e){}l.lineWidth=this.megaStroke.thickness;for(C=f;C<=g;C+=y){C=Math.round((C-c)/y)*y+c;w=Math.round(C);l.moveTo(w+.5,b+.5),l.lineTo(w+.5,k+.5)}for(M=p;M<=v;M+=y){M=Math.round((M-m)/y)*y+m;E=Math.round(M);l.moveTo(S+.5,E+.5),l.lineTo(x+.5,E+.5)}l.closePath(),l.stroke()}}}}},this.getLabel=function(cell){if(!cell.value)return null;if(!(cell.style.search("umk_model")>=0))return cell.value;try{return eval("var tempModel = new "+cell.value.id+"(cell.value);"),this.setCaption(cell,tempModel.Name),cell.style.search("umk_display")>=0?cell.value.show||"$[\\cdot]$":"<p style='margin:0; padding: 0;'>"+tempModel.Icon().html+"</p>"}catch(e){return console.log(e),"ERROR"}},this.getEditingValue=function(e,t){return e.value?"object"==typeof e.value?e.value.Name||"":e.value:null},this.labelChanged=function(e,t,n){if(e.value&&"object"==typeof e.value){var o=mxUtils.clone(e.value);o.Name=t,t=o}mxGraph.prototype.labelChanged.apply(this,arguments)},this.setCaption=function(e,t){var n=e.children;if(n)for(var o=0;o<n.length;o++)n[o].style.search("umk_caption")>=0&&(n[o].setValue(t),this.refresh(n[o]))},this.view.updateFixedTerminalPoint=function(e,t,n,o){mxGraphView.prototype.updateFixedTerminalPoint.apply(this,arguments);var i=e.absolutePoints,a=i[n?0:i.length-1];null!=t&&null==a&&null==this.getPerimeterFunction(t)&&e.setAbsoluteTerminalPoint(new mxPoint(this.getRoutingCenterX(t),this.getRoutingCenterY(t)),n)},this.connectionHandler.createEdgeState=function(e){var t=this.createEdge(null,null,null,null,null);return new mxCellState(this.graph.view,t,this.graph.getCellStyle(t))},this.selectCellForEvent=function(e){this.isPart(e)&&(e=this.model.getParent(e)),mxGraph.prototype.selectCellForEvent.apply(this,arguments)},this.isPart=function(e){console.log(e);var t=this.getCellStyle(e);return"1"==t.constituent},this.connectionHandler.addListener(mxEvent.CONNECT,function(e,t){this.graph=GraphPointer,console.log(this);var n=t.getProperty("cell"),o=this.graph.getModel().getTerminal(n,!0),i=this.graph.getModel().getTerminal(n,!1);o.style.search("umk_input")>=0&&i.style.search("umk_output")>=0&&(this.graph.getModel().setTerminal(n,o,!1),this.graph.getModel().setTerminal(n,i,!0))}),this.customValidationError=!0,this.getEdgeValidationError=function(e,t,n){var o,i=mxGraph.prototype.getEdgeValidationError.apply(this,arguments);if(!this.customValidationError)return i;try{t.parent===n.parent&&(o="Cannot connect to the same block."),t.style.search("umk_input")>=0&&n.style.search("umk_input")>=0&&(o="Cannot connect both the inputs."),t.style.search("umk_output")>=0&&n.style.search("umk_output")>=0&&(o="Cannot connect both the outputs."),(n.style.search("umk_input")>=0&&n.getEdgeCount()>0||t.style.search("umk_input")>=0&&t.getEdgeCount()>0)&&(o="Only one input is allowed per port.")}catch(e){}finally{return o||i}},this.validationAlert=function(e){notyf.error(e)},this.isCellSelectable=function(e){var t=this.view.getState(e),n=null!=t?t.style:this.getCellStyle(e);return this.isCellsSelectable()&&!this.isCellLocked(e)&&0!=n.selectable},this.getTooltipForCell=function(e){var t=this.convertValueToString(e);return t},this.convertValueToString=function(e){return e.style.search("umk_model")>=0?null:e.value},this.createHandler=function(e){return null!=e&&this.model.isVertex(e.cell)?new mxVertexToolHandler(e):mxGraph.prototype.createHandler.apply(this,arguments)}};mxUtils.extend(Graph,mxGraph);var Outline=function(e,t){mxOutline.call(this,e,t),this.visibility=!1,this.setVisiblity=function(){t.style.display=this.visibility?"block":"none"}};mxUtils.extend(Outline,mxOutline);var System=function(e,t){this.graph=new Graph(e),this.outline=new Outline(this.graph,t),this.keyHandler=new mxKeyHandler(this.graph),this.undoManager=new mxUndoManager;var n=this.undoManager,o=function(e,t){n.undoableEditHappened(t.getProperty("edit"))};this.graph.getModel().addListener(mxEvent.UNDO,o),this.graph.getView().addListener(mxEvent.UNDO,o),this.refresh=function(){this.graph.setBackgroundColor(),this.graph.refresh(),this.outline.setVisiblity(),this.outline.refresh()},this.navigate=function(e="up"){switch(e){case"up":case"down":case"left":case"right":case"0":this.graph.navigate.move(e);break;case"zoomIn":this.graph.zoomIn();break;case"zoomOut":this.graph.zoomOut();break;case"zoomActual":this.graph.zoomActual();break;case"fit":this.graph.fit()}this.refresh()}},mainSystem=new System(document.getElementById("modelContainer"),document.getElementById("outlineContainer"));mainSystem.graph.getSelectionModel().addListener(mxEvent.CHANGE,function(e,t){selectionChanged()}),mainSystem.outline.update=function(e){return mainSystem.graph.grid.repaintGrid(),updateMathJax(),mxOutline.prototype.update.apply(this,arguments)},mainSystem.outline.mouseDown=function(e,t){return mainSystem.graph.container.style.backgroundColor=mainSystem.graph.backgroundColor,mxOutline.prototype.mouseDown.apply(this,arguments)},mainSystem.outline.mouseUp=function(e,t){return mainSystem.graph.container.style.backgroundColor="",mxOutline.prototype.mouseUp.apply(this,arguments)},mainSystem.keyHandler.bindControlKey(79,function(e){alert()}),mainSystem.keyHandler.bindControlKey(83,function(e){alert()}),mainSystem.keyHandler.bindControlKey(76,function(e){alert()}),mainSystem.keyHandler.bindControlKey(74,function(e){alert()}),mainSystem.keyHandler.bindControlShiftKey(74,function(e){alert()}),mainSystem.keyHandler.bindControlKey(80,function(e){alert()}),mainSystem.keyHandler.bindControlKey(85,function(e){alert()}),mainSystem.keyHandler.bindControlKey(69,function(e){alert()}),mainSystem.keyHandler.bindControlShiftKey(83,function(e){alert()}),mainSystem.keyHandler.bindControlShiftKey(86,function(e){ShowModelItem("variablesManager")}),mainSystem.keyHandler.bindControlKey(75,function(e){mainSystem.graph.isEnabled()&&createSubModel()}),mainSystem.keyHandler.bindControlShiftKey(75,function(e){mainSystem.graph.isEnabled()&&ungroupSubModel()}),mainSystem.keyHandler.bindControlKey(65,function(e){alert()}),mainSystem.keyHandler.bindControlShiftKey(65,function(e){alert()}),mainSystem.keyHandler.bindControlKey(88,function(e){alert()}),mainSystem.keyHandler.bindControlKey(67,function(e){alert()}),mainSystem.keyHandler.bindControlKey(86,function(e){alert()}),mainSystem.keyHandler.bindControlShiftKey(67,function(e){alert()}),mainSystem.keyHandler.bindKey(46,function(e){mainSystem.graph.isEnabled()&&mainSystem.graph.removeCells()}),mainSystem.keyHandler.bindControlKey(90,function(e){mainSystem.undoManager.undo()}),mainSystem.keyHandler.bindControlShiftKey(90,function(e){mainSystem.undoManager.redo()}),mainSystem.keyHandler.bindControlKey(107,function(e){mainSystem.graph.zoomIn()}),mainSystem.keyHandler.bindControlKey(109,function(e){mainSystem.graph.zoomOut()}),mainSystem.keyHandler.bindControlKey(96,function(e){mainSystem.graph.zoomActual()}),mainSystem.keyHandler.bindControlShiftKey(96,function(e){mainSystem.graph.fit()}),mainSystem.keyHandler.bindControlKey(77,function(e){foldItems()}),mainSystem.keyHandler.bindControlShiftKey(77,function(e){foldItems(!1)}),mainSystem.keyHandler.bindControlKey(82,function(e){displayExecutionOrder()}),mainSystem.keyHandler.bindControlKey(70,function(e){alert()}),mainSystem.keyHandler.bindControlKey(71,function(e){alert()}),mainSystem.keyHandler.bindControlKey(84,function(e){alert()}),mainSystem.keyHandler.bindControlKey(89,function(e){alert()}),mainSystem.keyHandler.bindControlKey(66,function(e){alert()}),mainSystem.keyHandler.bindControlKey(87,function(e){alert()}),mainSystem.keyHandler.bindControlKey(68,function(e){alert()}),mainSystem.keyHandler.bindControlKey(72,function(e){alert()}),mainSystem.keyHandler.bindKey(38,function(e){movemainSystem.graph("up")}),mainSystem.keyHandler.bindKey(40,function(e){movemainSystem.graph("down")}),mainSystem.keyHandler.bindKey(39,function(e){movemainSystem.graph("right")}),mainSystem.keyHandler.bindKey(37,function(e){movemainSystem.graph("left")}),mainSystem.keyHandler.bindControlKey(48,function(e){mainSystem.graph.zoomActual()}),mainSystem.keyHandler.bindControlShiftKey(48,function(e){mainSystem.graph.fit()}),mxVertexToolHandler.prototype=new mxVertexHandler,mxVertexToolHandler.prototype.constructor=mxVertexToolHandler,mxVertexToolHandler.prototype.domNode=null,mxVertexToolHandler.prototype.init=function(){function e(e){if(mxClient.IS_IE&&!mxClient.IS_SVG){var t=document.createElement("div");return t.style.backgroundImage="url("+e+")",t.style.backgroundPosition="center",t.style.backgroundRepeat="no-repeat",t.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",t}return mxUtils.createImage(e)}mxVertexHandler.prototype.init.apply(this,arguments),this.domNode=document.createElement("div"),this.domNode.style.position="absolute",this.domNode.style.whiteSpace="nowrap";var t=e("images/delete2.png");t.setAttribute("title","Delete"),t.style.cursor="pointer",t.style.width="16px",t.style.height="16px",mxEvent.addGestureListeners(t,mxUtils.bind(this,function(e){mxEvent.consume(e)})),mxEvent.addListener(t,"click",mxUtils.bind(this,function(e){this.graph.removeCells([this.state.cell]),mxEvent.consume(e)})),this.domNode.appendChild(t);t=e("images/fit_to_size.png");t.setAttribute("title","Resize"),t.style.cursor="se-resize",t.style.width="16px",t.style.height="16px",mxEvent.addGestureListeners(t,mxUtils.bind(this,function(e){this.start(mxEvent.getClientX(e),mxEvent.getClientY(e),7),this.graph.isMouseDown=!0,this.graph.isMouseTrigger=mxEvent.isMouseEvent(e),mxEvent.consume(e)})),this.domNode.appendChild(t);t=e("images/plus.png");t.setAttribute("title","Move"),t.style.cursor="move",t.style.width="16px",t.style.height="16px",mxEvent.addGestureListeners(t,mxUtils.bind(this,function(e){this.graph.graphHandler.start(this.state.cell,mxEvent.getClientX(e),mxEvent.getClientY(e)),this.graph.graphHandler.cellWasClicked=!0,this.graph.isMouseDown=!0,this.graph.isMouseTrigger=mxEvent.isMouseEvent(e),mxEvent.consume(e)})),this.domNode.appendChild(t);t=e("images/check.png");t.setAttribute("title","Connect"),t.style.cursor="pointer",t.style.width="16px",t.style.height="16px",mxEvent.addGestureListeners(t,mxUtils.bind(this,function(e){var t=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX(e),mxEvent.getClientY(e));this.graph.connectionHandler.start(this.state,t.x,t.y),this.graph.isMouseDown=!0,this.graph.isMouseTrigger=mxEvent.isMouseEvent(e),mxEvent.consume(e)})),this.domNode.appendChild(t),this.graph.container.appendChild(this.domNode),this.redrawTools()},mxVertexToolHandler.prototype.redraw=function(){mxVertexHandler.prototype.redraw.apply(this),this.redrawTools()},mxVertexToolHandler.prototype.redrawTools=function(){if(null!=this.state&&null!=this.domNode){var e=mxClient.IS_VML&&"CSS1Compat"==document.compatMode?20:4;this.domNode.style.left=this.state.x+this.state.width-56+"px",this.domNode.style.top=this.state.y+this.state.height+e+"px"}},mxVertexToolHandler.prototype.destroy=function(e,t){mxVertexHandler.prototype.destroy.apply(this,arguments),null!=this.domNode&&(this.domNode.parentNode.removeChild(this.domNode),this.domNode=null)},(()=>{function e(e="left",t=!0){console.log("hi");let n=t?1:0;document.documentElement.style.setProperty("--"+e+"-bar-size",n)}function t(t=[!0,!0]){t.forEach((t,n)=>{e(a[n],t)})}function n(e,n){let a=[];n<o||e<i||(e<640?a=[!1,!1]:e>=640&&e<960?a=[!0,!1]:e>=960&&(a=[!0,!0]),t(a),console.log(e))}const o=360,i=400,a=["left","right"];windResizeCallbacks.push(e=>{n(e.currentTarget.innerWidth,e.currentTarget.innerHeight)}),document.getElementById("btn-blocks").addEventListener("click",t=>{e("left",!0)}),document.getElementById("btn-edit").addEventListener("click",t=>{e("right",!0)}),document.getElementById("hide-button-left").addEventListener("click",t=>{e("left",!1)}),document.getElementById("hide-button-right").addEventListener("click",t=>{e("right",!1)})})();var allTheBlocks=new Vue({el:"#allTheBlocks",data:{categories:umkBlockCategories,bSummary:umkBlockSummary,dispCategories:new Array(umkBlockCategories.length).fill(!1),updateCounter:0,blocksPerCategory:{},searchText:""},mounted:function(){this.dispCategories[0]=!0,this.updateCounter++,this.obtainBlocksPerCategory()},methods:{updateDOMs:function(){this.updateCounter++},obtainBlocksPerCategory:function(){for(var e in this.bSummary)for(var t=0;t<this.bSummary[e].category.length;t++)""!==this.bSummary[e].category[t]&&(void 0===this.blocksPerCategory[this.bSummary[e].category[t]]&&(this.blocksPerCategory[this.bSummary[e].category[t]]=new Array),this.blocksPerCategory[this.bSummary[e].category[t]].push(this.bSummary[e]))},toggleCategoryDisplay:function(e){this.dispCategories[e]=!this.dispCategories[e],this.updateCounter++},getBlockImage:function(e){return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(iconText.icon1+e.bg+iconText.icon2+e.fg+iconText.icon3+e.icon+iconText.icon4)}},watch:{searchText:function(){this.updateCounter++}},updated:function(){for(var e=document.getElementsByClassName("libraryBlock"),t=0;t<e.length;t++)new blockOnDOM(e[t])},computed:{searchResults:function(){var e=new Array;for(i in this.bSummary)e.push(this.bSummary[i]);return e.filter(function(e){return e.name.toLowerCase().indexOf(allTheBlocks.$data.searchText.toLowerCase())>=0||e.keywords.toLowerCase().indexOf(allTheBlocks.$data.searchText.toLowerCase())>=0||e.description.toLowerCase().indexOf(allTheBlocks.$data.searchText.toLowerCase())>=0})}}}),editorForGraph=new Vue({el:"#editorForGraph",data:{graph:mainSystem.graph,outline:mainSystem.outline},mounted:function(){this.refreshGraph()},methods:{refreshGraph:function(){mainSystem.refresh()}}}),mainToobar=new Vue({el:"#mainToobar",data:{visibleItem:"library",toolBar:toolBar},methods:{clickCallback:function(toEval){for(var toHideDivs=document.getElementsByClassName("closeOnClick"),i=0;i<toHideDivs.length;i++)toHideDivs[i].style.visibility="collapse";for(var i=0;i<toHideDivs.length;i++)setTimeout(e=>{e.style.visibility="visible"},10,toHideDivs[i]);eval(toEval)},showInfo:function(e){document.getElementById("infoInStatus").innerText=e},hideInfo:function(){document.getElementById("infoInStatus").innerText=""}}});MathJax.Hub.Config({showMathMenu:!1,messageStyle:"none",menuSettings:{inTabOrder:!1},extensions:["tex2jax.js"],jax:["input/TeX","output/HTML-CSS"],tex2jax:{preview:"none",inlineMath:[["$","$"],["\\(","\\)"]],
displayMath:[["$$","$$"],["\\[","\\]"]]}}),holdToFinishAProcess(!1);