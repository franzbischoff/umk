function loop(e){if(console.log(e),exec.results.length){let e=JSON.parse2(JSON.stringify2(exec.results.shift()));exec.dbHandler.outs.add(e).then(loop,function(){console.log("sdf")}),console.log("item ->"),console.log(e)}else exec.dbHandler.outs.get(51).then(function(e){console.log(e)})}importScripts("dependencies/mathjs/math.min.js"),importScripts("dependencies/augmented-json-serialization-functions.js"),importScripts("dependencies/dexie/dexie.min.js"),onmessage=function(e){if("object"==typeof e.data){let t=Object.keys(e.data);for(let s=0;s<t.length;s++)switch(t[s]){case"use":exec.setDB(e.data.use);break;case"put":exec.putData(e.data.put);break;case"results":console.log(e.data.results),exec.addResults(e.data.results)}}};const exec={dbHandler:dbHandler=null,results:results=[],setDB:setDB=function(e){this.dbHandler&&this.dbHandler.delete(),this.dbHandler=new Dexie(e),this.dbHandler.version(1).stores({outs:"++k, t, b, v"})},putData:putData=function(e){this.dbHandler.outs.add(e)},delDbase:delDbase=function(){this.dbHandler.delete()},addResults:addResults=function(e){this.results=this.results.concat(e),console.log(this.results[this.results.length-1]),setTimeout(loop)}};